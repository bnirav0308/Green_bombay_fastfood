<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PFZ ‚Äî Menu</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #fff8f0;
    --red: #c0392b;
    --green: #27ae60;
    --blue: #2980b9;
    --orange: #e67e22;
    --purple: #8e44ad;
    --pink: #e91e8c;
    --dark: #1a1a1a;
    --card: #ffffff;
    --muted: #888;
    --shadow: 0 4px 20px rgba(0,0,0,0.08);
  }
  * { margin:0; padding:0; box-sizing:border-box; }

  body {
    background: var(--bg);
    font-family: 'Poppins', sans-serif;
    color: var(--dark);
    padding-bottom: 100px;
  }

  /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
  .header {
    background: linear-gradient(135deg, #1a0000 0%, #3d0000 50%, #1a0000 100%);
    padding: 30px 20px 24px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .header::before {
    content: '';
    position: absolute; inset: 0;
    background: radial-gradient(circle at 50% 0%, rgba(255,80,0,0.25) 0%, transparent 70%);
  }
  .logo-ring {
    width: 90px; height: 90px;
    background: linear-gradient(135deg, #ff6b00, #ff0040);
    border-radius: 50%;
    margin: 0 auto 12px;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 36px;
    color: white;
    letter-spacing: 2px;
    box-shadow: 0 0 30px rgba(255,100,0,0.6), 0 0 60px rgba(255,0,64,0.3);
    position: relative; z-index: 1;
  }
  .shop-name {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 42px;
    color: white;
    letter-spacing: 6px;
    position: relative; z-index: 1;
    text-shadow: 0 0 20px rgba(255,100,0,0.8);
  }
  .shop-tagline {
    color: rgba(255,255,255,0.6);
    font-size: 12px;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-top: 4px;
    position: relative; z-index: 1;
  }

  /* ‚îÄ‚îÄ SEARCH ‚îÄ‚îÄ */
  .search-wrap {
    padding: 16px;
    background: white;
    box-shadow: var(--shadow);
    position: sticky; top: 0; z-index: 100;
  }
  .search-inner {
    display: flex;
    align-items: center;
    background: #f5f5f5;
    border-radius: 12px;
    padding: 10px 16px;
    gap: 10px;
  }
  .search-inner span { font-size: 18px; }
  .search-inner input {
    border: none; background: transparent;
    font-family: 'Poppins', sans-serif;
    font-size: 14px; color: var(--dark);
    outline: none; width: 100%;
  }
  .search-inner input::placeholder { color: #bbb; }

  /* ‚îÄ‚îÄ CATEGORY PILLS ‚îÄ‚îÄ */
  .cat-scroll {
    display: flex; gap: 8px;
    padding: 14px 16px;
    overflow-x: auto;
    scrollbar-width: none;
    background: white;
    border-bottom: 1px solid #f0f0f0;
  }
  .cat-scroll::-webkit-scrollbar { display: none; }
  .cat-pill {
    display: flex; align-items: center; gap: 6px;
    padding: 7px 16px;
    border-radius: 30px;
    border: 2px solid #eee;
    background: white;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    white-space: nowrap;
    font-family: 'Poppins', sans-serif;
    transition: all 0.2s;
    color: #555;
    flex-shrink: 0;
  }
  .cat-pill.active {
    color: white;
    border-color: transparent;
  }
  .cat-pill .dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    background: currentColor;
    opacity: 0.6;
  }

  /* ‚îÄ‚îÄ SECTION ‚îÄ‚îÄ */
  .section { padding: 20px 16px 8px; }
  .section-header {
    display: flex; align-items: center; gap: 10px;
    margin-bottom: 14px;
    padding: 10px 16px;
    border-radius: 12px;
    color: white;
    font-family: 'Bebas Neue', sans-serif;
    font-size: 20px;
    letter-spacing: 2px;
  }
  .section-header .s-emoji { font-size: 22px; }

  /* ‚îÄ‚îÄ ITEM CARD ‚îÄ‚îÄ */
  .item-card {
    background: white;
    border-radius: 14px;
    padding: 14px 16px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    box-shadow: var(--shadow);
    border: 1px solid #f5f5f5;
    transition: transform 0.15s;
  }
  .item-card:active { transform: scale(0.98); }
  .item-left { display: flex; align-items: center; gap: 12px; }
  .item-emoji-box {
    width: 46px; height: 46px;
    border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    font-size: 24px;
    flex-shrink: 0;
  }
  .item-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--dark);
    line-height: 1.3;
  }
  .item-price {
    font-size: 13px;
    font-weight: 700;
    margin-top: 2px;
  }
  .item-right { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }
  .add-btn {
    width: 34px; height: 34px;
    border-radius: 10px;
    border: none;
    color: white;
    font-size: 20px;
    font-weight: 700;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    line-height: 1;
    font-family: 'Poppins', sans-serif;
    transition: opacity 0.15s;
  }
  .add-btn:active { opacity: 0.8; }
  .qty-wrap {
    display: flex; align-items: center; gap: 6px;
  }
  .qty-btn {
    width: 30px; height: 30px;
    border-radius: 8px;
    border: 2px solid #eee;
    background: white;
    font-size: 16px; font-weight: 700;
    cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    font-family: 'Poppins', sans-serif;
    color: var(--dark);
  }
  .qty-num { font-size: 15px; font-weight: 700; min-width: 20px; text-align: center; }

  /* ‚îÄ‚îÄ CART BAR ‚îÄ‚îÄ */
  .cart-bar {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: linear-gradient(135deg, #c0392b, #e74c3c);
    padding: 14px 20px;
    display: flex; align-items: center; justify-content: space-between;
    transform: translateY(100%);
    transition: transform 0.35s cubic-bezier(0.34,1.4,0.64,1);
    z-index: 200;
    box-shadow: 0 -4px 30px rgba(192,57,43,0.4);
  }
  .cart-bar.visible { transform: translateY(0); }
  .cb-left { display: flex; flex-direction: column; }
  .cb-count { font-size: 11px; color: rgba(255,255,255,0.8); font-weight: 500; }
  .cb-total { font-size: 22px; font-weight: 800; color: white; }
  .cb-btn {
    background: white;
    color: var(--red);
    border: none;
    padding: 11px 22px;
    border-radius: 12px;
    font-size: 14px;
    font-weight: 700;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
  }

  /* ‚îÄ‚îÄ DRAWER ‚îÄ‚îÄ */
  .overlay {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.5);
    z-index: 300; display: none;
    backdrop-filter: blur(3px);
  }
  .overlay.show { display: block; }
  .drawer {
    position: fixed; bottom: 0; left: 0; right: 0;
    background: white;
    border-radius: 24px 24px 0 0;
    max-height: 85vh;
    overflow-y: auto;
    z-index: 400;
    transform: translateY(100%);
    transition: transform 0.35s cubic-bezier(0.34,1.2,0.64,1);
    padding-bottom: 30px;
  }
  .drawer.open { transform: translateY(0); }
  .drawer-handle {
    width: 40px; height: 4px;
    background: #ddd;
    border-radius: 4px;
    margin: 14px auto 0;
  }
  .drawer-head {
    padding: 16px 20px;
    font-size: 20px;
    font-weight: 800;
    border-bottom: 1px solid #f0f0f0;
    display: flex; align-items: center; gap: 8px;
  }
  .cart-row {
    display: flex; align-items: center; justify-content: space-between;
    padding: 14px 20px;
    border-bottom: 1px solid #f8f8f8;
  }
  .cr-left { display: flex; align-items: center; gap: 10px; }
  .cr-emoji { font-size: 28px; }
  .cr-name { font-size: 14px; font-weight: 600; }
  .cr-price { font-size: 12px; color: var(--muted); margin-top: 2px; }
  .cr-right { display: flex; align-items: center; gap: 8px; }
  .cr-qty-btn {
    width: 28px; height: 28px;
    border-radius: 8px;
    border: 1px solid #eee;
    background: #f8f8f8;
    font-size: 16px; font-weight: 700;
    cursor: pointer; font-family: 'Poppins', sans-serif;
    display: flex; align-items: center; justify-content: center;
  }
  .cr-sub { font-weight: 700; font-size: 14px; color: var(--red); min-width: 50px; text-align: right; }
  .bill-box {
    margin: 14px 20px 0;
    background: #fff8f0;
    border-radius: 14px;
    padding: 16px;
    border: 1px solid #ffe0c0;
  }
  .bill-row {
    display: flex; justify-content: space-between;
    font-size: 14px; margin-bottom: 8px;
    color: #555;
  }
  .bill-row.total {
    font-size: 18px; font-weight: 800;
    color: var(--dark);
    border-top: 1px dashed #ddd;
    padding-top: 10px; margin-top: 6px; margin-bottom: 0;
  }
  .note-box {
    margin: 14px 20px 0;
  }
  .note-box label { font-size: 12px; color: var(--muted); display: block; margin-bottom: 6px; font-weight: 500; }
  .note-box textarea {
    width: 100%;
    border: 1px solid #eee;
    border-radius: 10px;
    padding: 10px 12px;
    font-family: 'Poppins', sans-serif;
    font-size: 13px;
    resize: none; outline: none;
    height: 60px; color: var(--dark);
  }
  .order-btn {
    margin: 16px 20px 0;
    width: calc(100% - 40px);
    background: linear-gradient(135deg, #c0392b, #e74c3c);
    color: white; border: none;
    padding: 16px;
    border-radius: 14px;
    font-size: 16px; font-weight: 700;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
    letter-spacing: 0.3px;
    box-shadow: 0 6px 20px rgba(192,57,43,0.35);
  }
  .empty-cart {
    text-align: center;
    padding: 40px 20px;
    color: var(--muted);
    font-size: 14px;
  }
  .empty-cart .ec-emoji { font-size: 50px; display: block; margin-bottom: 12px; }

  /* ‚îÄ‚îÄ SUCCESS ‚îÄ‚îÄ */
  .success {
    display: none;
    position: fixed; inset: 0;
    background: linear-gradient(135deg, #fff8f0, #fff);
    z-index: 999;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 40px 24px;
  }
  .success.show { display: flex; }
  .success-anim { font-size: 90px; animation: popIn 0.5s ease; }
  @keyframes popIn {
    0% { transform: scale(0) rotate(-10deg); }
    70% { transform: scale(1.15) rotate(3deg); }
    100% { transform: scale(1) rotate(0); }
  }
  .success h2 {
    font-family: 'Bebas Neue', sans-serif;
    font-size: 38px;
    letter-spacing: 3px;
    color: var(--red);
    margin: 16px 0 8px;
  }
  .success p { color: var(--muted); font-size: 14px; line-height: 1.7; }
  .success-items {
    background: white;
    border-radius: 16px;
    padding: 16px 20px;
    margin-top: 20px;
    width: 100%;
    max-width: 340px;
    box-shadow: var(--shadow);
    text-align: left;
    border: 1px solid #f0f0f0;
  }
  .si-title { font-weight: 700; font-size: 13px; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; }
  .si-row { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 8px; }
  .si-total { border-top: 1px dashed #eee; padding-top: 10px; margin-top: 4px; font-weight: 800; font-size: 15px; }
  .reset-btn {
    margin-top: 24px;
    background: var(--red);
    color: white; border: none;
    padding: 14px 32px;
    border-radius: 12px;
    font-size: 15px; font-weight: 700;
    cursor: pointer;
    font-family: 'Poppins', sans-serif;
    box-shadow: 0 6px 20px rgba(192,57,43,0.3);
  }

  /* No results */
  .no-results {
    text-align: center;
    padding: 60px 20px;
    color: var(--muted);
  }
  .no-results span { font-size: 50px; display: block; margin-bottom: 12px; }

  /* Section animation */
  .section { animation: fadeUp 0.3s ease both; }
  @keyframes fadeUp {
    from { opacity:0; transform: translateY(12px); }
    to   { opacity:1; transform: translateY(0); }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
    <img src="Logo.jpeg" alt="PFZ Logo" style="width:120px; height:120px; object-fit:contain; border-radius:16px; margin-bottom:8px;">
    <div class="shop-tagline">Fast Food &amp; More</div>
</div>

<!-- SEARCH -->
<div class="search-wrap">
  <div class="search-inner">
    <span>üîç</span>
    <input type="text" id="searchInput" placeholder="Search your favourite item..." oninput="renderMenu()">
  </div>
</div>

<!-- CATEGORY PILLS -->
<div class="cat-scroll" id="catScroll"></div>

<!-- MENU -->
<div id="menuWrap"></div>

<!-- CART BAR -->
<div class="cart-bar" id="cartBar">
  <div class="cb-left">
    <span class="cb-count" id="cbCount">0 items</span>
    <span class="cb-total" id="cbTotal">‚Çπ0.00</span>
  </div>
  <button class="cb-btn" onclick="openDrawer()">View Cart üõí</button>
</div>

<!-- OVERLAY -->
<div class="overlay" id="overlay" onclick="closeDrawer()"></div>

<!-- CART DRAWER -->
<div class="drawer" id="drawer">
  <div class="drawer-handle"></div>
  <div class="drawer-head">üõí Your Order</div>
  <div id="drawerItems"></div>
  <div id="drawerBill"></div>
  <div class="note-box">
    <label>Special Instructions (optional)</label>
    <textarea id="noteInput" placeholder="e.g. Less spicy, no onion..."></textarea>
  </div>
  <button class="order-btn" onclick="placeOrder()">‚úÖ Place Order</button>
</div>

<!-- SUCCESS -->
<div class="success" id="successScreen">
  <div class="success-anim">üéâ</div>
  <h2>Order Placed!</h2>
  <p>Your order has been sent to the kitchen.<br>We'll serve it shortly. Sit back &amp; relax!</p>
  <div class="success-items" id="successItems"></div>
  <button class="reset-btn" onclick="resetAll()">üçΩÔ∏è Order More</button>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// YOUR MENU DATA ‚Äî Edit prices/items here
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const MENU = [
  // MASALA SANDWICH
  { id:1,  cat:"Masala Sandwich",  name:"Masala Sandwich",          price:40,  emoji:"ü•™", color:"#c0392b" },
  { id:2,  cat:"Masala Sandwich",  name:"Cheese Masala Sandwich",   price:60,  emoji:"ü•™", color:"#c0392b" },
  { id:3,  cat:"Masala Sandwich",  name:"Cheese Chilli Sandwich",   price:70,  emoji:"ü•™", color:"#c0392b" },
  { id:4,  cat:"Masala Sandwich",  name:"Vegetable Sandwich",       price:60,  emoji:"ü•ó", color:"#c0392b" },
  { id:5,  cat:"Masala Sandwich",  name:"Cheese Vegetable Sandwich",price:80,  emoji:"ü•™", color:"#c0392b" },

  // GARLIC BREAD
  { id:6,  cat:"Garlic Bread",     name:"Traditional Bread",        price:30,  emoji:"üçû", color:"#27ae60" },
  { id:7,  cat:"Garlic Bread",     name:"Cheese Garlic Bread",      price:70,  emoji:"üßÄ", color:"#27ae60" },
  { id:8,  cat:"Garlic Bread",     name:"Cheese Jelipino Olives",   price:90,  emoji:"ü´í", color:"#27ae60" },
  { id:9,  cat:"Garlic Bread",     name:"Cheese Chilli Garlic Bread",price:100,emoji:"üå∂Ô∏è", color:"#27ae60" },
  { id:10, cat:"Garlic Bread",     name:"Paneer Tandoori Bread",    price:100, emoji:"ü´ì", color:"#27ae60" },

  // FRENKY
  { id:11, cat:"Frenky",           name:"Vegetable Frenky",         price:50,  emoji:"üåØ", color:"#8e44ad" },
  { id:12, cat:"Frenky",           name:"Masala Vegetable Frenky",  price:60,  emoji:"üåØ", color:"#8e44ad" },
  { id:13, cat:"Frenky",           name:"Chilli Corn Veg Frenky",   price:80,  emoji:"üåΩ", color:"#8e44ad" },
  { id:14, cat:"Frenky",           name:"Paneer Vegetable Frenky",  price:90,  emoji:"üåØ", color:"#8e44ad" },

  // BARGAR
  { id:15, cat:"Burger",           name:"Burger",                   price:60,  emoji:"üçî", color:"#e67e22" },
  { id:16, cat:"Burger",           name:"Cheese Burger",            price:80,  emoji:"üçî", color:"#e67e22" },

  // SWEET BREAD
  { id:17, cat:"Sweet Bread",      name:"Bred Batter",              price:30,  emoji:"üçû", color:"#2980b9" },
  { id:18, cat:"Sweet Bread",      name:"Bred Batter Jaam",         price:50,  emoji:"üçì", color:"#2980b9" },
  { id:19, cat:"Sweet Bread",      name:"Bred Batter Cheese Jaam",  price:70,  emoji:"üßÄ", color:"#2980b9" },
  { id:20, cat:"Sweet Bread",      name:"Bred Batter Chocolate",    price:60,  emoji:"üç´", color:"#2980b9" },

  // MAGGI
  { id:21, cat:"Maggi",            name:"Masala Maggi",             price:50,  emoji:"üçú", color:"#e67e22" },
  { id:22, cat:"Maggi",            name:"Butter Masala Maggi",      price:60,  emoji:"üßà", color:"#e67e22" },
  { id:23, cat:"Maggi",            name:"Cheese Masala Maggi",      price:70,  emoji:"üßÄ", color:"#e67e22" },
  { id:24, cat:"Maggi",            name:"Butter Cheese Masala Maggi",price:80, emoji:"üçú", color:"#e67e22" },
  { id:25, cat:"Maggi",            name:"Vegetable Maggi",          price:60,  emoji:"ü•¶", color:"#e67e22" },
  { id:26, cat:"Maggi",            name:"Butter Vegetable Maggi",   price:70,  emoji:"üçú", color:"#e67e22" },
  { id:27, cat:"Maggi",            name:"Cheese Vegetable Maggi",   price:90,  emoji:"üçú", color:"#e67e22" },
  { id:28, cat:"Maggi",            name:"Butter Cheese Veg Maggi",  price:100, emoji:"üçú", color:"#e67e22" },

  // FRENCH FRIES
  { id:29, cat:"French Fries",     name:"Salted French Fries",      price:50,  emoji:"üçü", color:"#f39c12" },
  { id:30, cat:"French Fries",     name:"Masala French Fries",      price:50,  emoji:"üçü", color:"#f39c12" },
  { id:31, cat:"French Fries",     name:"Pari-Pari French Fries",   price:70,  emoji:"üçü", color:"#f39c12" },
  { id:32, cat:"French Fries",     name:"Cheese Salted Fries",      price:70,  emoji:"üßÄ", color:"#f39c12" },
  { id:33, cat:"French Fries",     name:"Cheese Masala Fries",      price:70,  emoji:"üßÄ", color:"#f39c12" },
  { id:34, cat:"French Fries",     name:"Cheese Pari-Pari Fries",   price:100, emoji:"üßÄ", color:"#f39c12" },

  // PIZZA
  { id:35, cat:"Pizza",            name:"Margarita Pizza",          price:100, emoji:"üçï", color:"#e91e8c" },
  { id:36, cat:"Pizza",            name:"Vegetable Pizza",          price:130, emoji:"üçï", color:"#e91e8c" },
  { id:37, cat:"Pizza",            name:"Vegetable Fry Pizza",      price:150, emoji:"üçï", color:"#e91e8c" },
  { id:38, cat:"Pizza",            name:"Mexican Pizza",            price:150, emoji:"üçï", color:"#e91e8c" },
  { id:39, cat:"Pizza",            name:"Italian Pizza",            price:150, emoji:"üçï", color:"#e91e8c" },
  { id:40, cat:"Pizza",            name:"American Pizza",           price:160, emoji:"üçï", color:"#e91e8c" },
  { id:41, cat:"Pizza",            name:"Paneer Tandoori Pizza",    price:170, emoji:"üçï", color:"#e91e8c" },
  { id:42, cat:"Pizza",            name:"Maggi Pizza",              price:180, emoji:"üçï", color:"#e91e8c" },
  { id:43, cat:"Pizza",            name:"Patel Special Pizza",      price:200, emoji:"üçï", color:"#e91e8c" },
];

const CAT_EMOJI = {
  "Masala Sandwich":"ü•™", "Garlic Bread":"üçû", "Frenky":"üåØ",
  "Burger":"üçî", "Sweet Bread":"üç´", "Maggi":"üçú",
  "French Fries":"üçü", "Pizza":"üçï"
};
const CAT_COLOR = {
  "Masala Sandwich":"#c0392b","Garlic Bread":"#27ae60","Frenky":"#8e44ad",
  "Burger":"#e67e22","Sweet Bread":"#2980b9","Maggi":"#e67e22",
  "French Fries":"#f39c12","Pizza":"#e91e8c"
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let cart = {};
let activecat = "All";

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// BUILD UI
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getCats() {
  return ["All", ...new Set(MENU.map(i => i.cat))];
}

function buildCatPills() {
  const wrap = document.getElementById("catScroll");
  wrap.innerHTML = "";
  getCats().forEach(cat => {
    const btn = document.createElement("button");
    btn.className = "cat-pill" + (cat === activecat ? " active" : "");
    const color = cat === "All" ? "#555" : CAT_COLOR[cat];
    if (cat === activecat) btn.style.background = color;
    btn.innerHTML = `<span>${cat === "All" ? "üçΩÔ∏è" : CAT_EMOJI[cat]}</span>${cat}`;
    btn.onclick = () => { activecat = cat; buildCatPills(); renderMenu(); };
    wrap.appendChild(btn);
  });
}

function renderMenu() {
  const wrap = document.getElementById("menuWrap");
  wrap.innerHTML = "";
  const q = document.getElementById("searchInput").value.toLowerCase();
  const cats = activecat === "All" ? getCats().slice(1) : [activecat];
  let found = false;

  cats.forEach(cat => {
    let items = MENU.filter(i => i.cat === cat);
    if (q) items = items.filter(i => i.name.toLowerCase().includes(q));
    if (!items.length) return;
    found = true;

    const color = CAT_COLOR[cat];
    const sec = document.createElement("div");
    sec.className = "section";

    // Section header
    const hdr = document.createElement("div");
    hdr.className = "section-header";
    hdr.style.background = color;
    hdr.innerHTML = `<span class="s-emoji">${CAT_EMOJI[cat]}</span>${cat.toUpperCase()}`;
    sec.appendChild(hdr);

    // Items
    items.forEach(item => {
      const qty = cart[item.id] || 0;
      const card = document.createElement("div");
      card.className = "item-card";
      card.innerHTML = `
        <div class="item-left">
          <div class="item-emoji-box" style="background:${color}18;">${item.emoji}</div>
          <div>
            <div class="item-name">${item.name}</div>
            <div class="item-price" style="color:${color}">‚Çπ${item.price}</div>
          </div>
        </div>
        <div class="item-right">
          ${qty === 0
            ? `<button class="add-btn" style="background:${color}" onclick="addItem(${item.id})">+</button>`
            : `<div class="qty-wrap">
                <button class="qty-btn" onclick="removeItem(${item.id})">‚àí</button>
                <span class="qty-num">${qty}</span>
                <button class="qty-btn" style="border-color:${color}; color:${color}" onclick="addItem(${item.id})">+</button>
               </div>`}
        </div>`;
      sec.appendChild(card);
    });

    wrap.appendChild(sec);
  });

  if (!found) {
    wrap.innerHTML = `<div class="no-results"><span>üîç</span>No items found for "<strong>${q}</strong>"</div>`;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CART LOGIC
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function addItem(id) { cart[id] = (cart[id]||0)+1; refresh(); }
function removeItem(id) {
  if (!cart[id]) return;
  cart[id]--;
  if (!cart[id]) delete cart[id];
  refresh();
}

function refresh() {
  const qty = Object.values(cart).reduce((a,b)=>a+b,0);
  const total = getTotal();
  document.getElementById("cbCount").textContent = `${qty} item${qty!==1?"s":""}`;
  document.getElementById("cbTotal").textContent = `‚Çπ${total}`;
  document.getElementById("cartBar").classList.toggle("visible", qty > 0);
  renderMenu();
  if (document.getElementById("drawer").classList.contains("open")) renderDrawer();
}

function getTotal() {
  return Object.entries(cart).reduce((sum,[id,qty])=>{
    const item = MENU.find(i=>i.id==id);
    return sum + (item ? item.price*qty : 0);
  },0);
}

function openDrawer() { renderDrawer(); document.getElementById("overlay").classList.add("show"); document.getElementById("drawer").classList.add("open"); document.body.style.overflow="hidden"; }
function closeDrawer() { document.getElementById("overlay").classList.remove("show"); document.getElementById("drawer").classList.remove("open"); document.body.style.overflow=""; }

function renderDrawer() {
  const itemsEl = document.getElementById("drawerItems");
  const billEl  = document.getElementById("drawerBill");
  itemsEl.innerHTML = "";
  const entries = Object.entries(cart);

  if (!entries.length) {
    itemsEl.innerHTML = `<div class="empty-cart"><span class="ec-emoji">üõí</span>Your cart is empty<br><small>Add items from the menu</small></div>`;
    billEl.innerHTML = ""; return;
  }

  let total=0, qty=0;
  entries.forEach(([id,q])=>{
    const item = MENU.find(i=>i.id==id);
    if(!item) return;
    const sub = item.price*q;
    total+=sub; qty+=q;
    itemsEl.innerHTML += `
      <div class="cart-row">
        <div class="cr-left">
          <span class="cr-emoji">${item.emoji}</span>
          <div>
            <div class="cr-name">${item.name}</div>
            <div class="cr-price">‚Çπ${item.price} each</div>
          </div>
        </div>
        <div class="cr-right">
          <button class="cr-qty-btn" onclick="removeItem(${item.id})">‚àí</button>
          <span class="qty-num">${q}</span>
          <button class="cr-qty-btn" onclick="addItem(${item.id})">+</button>
          <span class="cr-sub">‚Çπ${sub}</span>
        </div>
      </div>`;
  });

  billEl.innerHTML = `
    <div class="bill-box">
      <div class="bill-row"><span>${qty} item${qty!==1?"s":""}</span><span>‚Çπ${total}</span></div>
      <div class="bill-row total"><span>Total Amount</span><span>‚Çπ${total}</span></div>
    </div>`;
}

function placeOrder() {
  const entries = Object.entries(cart);
  if (!entries.length) { alert("Please add items first!"); return; }
  const note = document.getElementById("noteInput").value.trim();
  const total = getTotal();

  // Build success summary
  let html = `<div class="si-title">Order Summary</div>`;
  entries.forEach(([id,qty])=>{
    const item = MENU.find(i=>i.id==id);
    if(!item) return;
    html+=`<div class="si-row"><span>${item.emoji} ${item.name} √ó ${qty}</span><span>‚Çπ${item.price*qty}</span></div>`;
  });
  if(note) html+=`<div style="font-size:12px;color:#888;margin-top:8px;">üìù ${note}</div>`;
  html+=`<div class="si-row si-total"><span>Total</span><span style="color:#c0392b">‚Çπ${total}</span></div>`;
  document.getElementById("successItems").innerHTML = html;

  closeDrawer();
  document.getElementById("successScreen").classList.add("show");
  console.log("ORDER:", { items: Object.entries(cart).map(([id,qty])=>({...MENU.find(i=>i.id==id),qty})), note, total });
}

function resetAll() {
  cart = {};
  document.getElementById("noteInput").value = "";
  document.getElementById("successScreen").classList.remove("show");
  refresh();
  window.scrollTo(0,0);
}

// INIT
buildCatPills();
renderMenu();
</script>
</body>
</html>
